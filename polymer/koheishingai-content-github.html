<link rel="import" href="/polymer/bower_components/polymer/polymer-element.html">
<link rel="import" href="/polymer/bower_components/polymer/lib/elements/dom-repeat.html">

<dom-module id="koheishingai-content-github">
  <template>
    <style>
      :host * {
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        -webkit-font-smoothing: antialiased;
      }
      :host section {
        padding: 12px 26px;
        width: 100%;
      }
      :host .en h1, :host .en h2, :host .en h3, :host .en h4, :host .en h5, :host .en h6 {
        margin-top: 24px;
        margin-bottom: 16px;
        font-weight: 600;
        line-height: 1.25;
        font-family: "Roboto", sans-serif;
        font-weight: 200;
        color: rgba(0, 0, 0, 0.45);
      }
      :host .en h1 {
        padding-bottom: 0.3em;
        font-size: 30px;
        border-bottom: 1px dashed #eaecef;
        margin-top: 5px;
      }
      :host .en h2 {
        padding-bottom: 0.3em;
        font-size: 23px;
        margin-top: 23px;
      }
      blockquote {
        padding: 0 1em;
        color: #6a737d;
        border-left: 0.25em solid #dfe2e5;
      }
      @media only screen and (max-width: 840px) {
      }
    </style>
    <section id="section" class$="{{language}}">
    </section>
    <script id="script" data-src$="https://rawgit.com/{{user}}/{{project}}/{{revision}}/README.md">
      var url = "https://rawgit.com/{{user}}/{{project}}/{{revision}}/README.md";
      var xhr = new XMLHttpRequest;
      xhr.open('GET', url);
      xhr.onload = function loaded(){
        var contentGithubTag = contentPanelTag.getElementById('{{revision}}').shadowRoot;
        var githubSection = contentGithubTag.getElementById("section");
        githubSection.innerHTML = marked(this.response);
      };
      xhr.send();
    </script>
  </template>

  <script>
    /**
     * `koheishingai-content-github`
     * 
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class KoheishingaiContentGithub extends Polymer.Element {
      static get is() { return 'koheishingai-content-github'; }
      static get properties() {
        return {
          user: {
            type: String,
            value: ''
          },
          project: {
            type: String,
            value: ''
          },
          revision: {
            type: String,
            value: ''
          },
          related: {
            type: String,
            value: ''
          },
          language: {
            type: String,
            value: ''
          }
        };
      }
    }
    window.customElements.define(KoheishingaiContentGithub.is, KoheishingaiContentGithub);
  </script>
</dom-module>
